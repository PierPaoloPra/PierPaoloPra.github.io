<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Risolvo - Professional Problem Solving</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* --- Global Reset & Basic Styling --- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px; /* Base font size */
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #000000;
            color: #DFD6C7;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding-top: 70px; /* Avoid content overlap with fixed header */
        }

        main {
            flex: 1; /* Ensures main content takes available space, pushing footer down */
        }

        /* --- Links --- */
        a {
            color: #DFD6C7;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        a:hover {
            color: yellow;
        }

        /* --- Titles --- */
        h1, h2, h3, h4, h5, h6 {
            color: #DFD6C7;
            margin-bottom: 1.5rem;
            font-weight: 700;
            transition: color 0.3s ease;
        }
        /* Add hover effect specifically to section titles */
        section h2:hover {
             color: yellow;
        }


        /* --- Header --- */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #000000; /* Solid Black Background */
            /* backdrop-filter: blur(5px); Remove blur for solid background */
            padding: 15px 2%; /* Use percentage for side margin */
            display: flex;
            justify-content: flex-end; /* Align items to the right */
            align-items: center;
            z-index: 1000;
            height: 70px; /* Fixed height for predictability */
            border-bottom: 1px solid rgba(223, 214, 199, 0.2); /* Subtle separator */
        }

        .menu-icon {
            font-size: 1.8rem;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            width: 30px;
            height: 25px;
            z-index: 1002; /* Above nav */
        }

        .menu-icon span {
            display: block;
            height: 3px;
            width: 100%;
            background-color: #DFD6C7;
            border-radius: 3px;
            transition: all 0.3s ease-in-out;
        }

        /* Menu Icon Animation (Optional 'X') */
         nav.active + .menu-icon span:nth-child(1) {
            transform: translateY(11px) rotate(45deg);
        }
        nav.active + .menu-icon span:nth-child(2) {
            opacity: 0;
        }
         nav.active + .menu-icon span:nth-child(3) {
            transform: translateY(-11px) rotate(-45deg);
        }


        nav {
            display: none; /* Hidden by default */
            position: absolute;
            top: 70px; /* Position below header */
            right: 0; /* Align to the right edge */
            background-color: rgba(15, 15, 15, 0.98); /* Keep menu dropdown slightly transparent */
            padding: 20px 30px;
            border-radius: 0 0 0 8px; /* Rounded bottom-left corner */
            box-shadow: -3px 3px 10px rgba(0, 0, 0, 0.5);
            min-width: 150px; /* Ensure a minimum width */
            width: auto; /* Size based on content */
            z-index: 1001; /* Below menu icon, above content */
        }

        nav.active {
            display: block; /* Show when active */
        }

        nav ul {
            list-style: none;
        }

        nav ul li {
            margin-bottom: 15px;
        }

        nav ul li:last-child {
            margin-bottom: 0;
        }

        nav ul li a {
            font-size: 1.1rem;
            font-weight: 400;
            display: block; /* Make the whole area clickable */
        }


        /* --- Sections --- */
        section {
            min-height: 80vh; /* Give sections substantial height */
            padding: 80px 5%; /* Vertical padding and side margin */
            display: flex; /* Use flexbox for content alignment */
            align-items: center; /* Vertically center content */
            justify-content: flex-start; /* Align content to the left */
            position: relative; /* Needed for background */
            background-size: cover;
            background-position: center center;
            background-attachment: fixed; /* Image doesn't scroll */
            background-repeat: no-repeat;
            text-align: left;
        }

        .section-content {
            background-color: rgba(0, 0, 0, 0.65); /* Darkened background for text */
            padding: 30px 40px;
            border-radius: 5px;
            max-width: 100%; /* Ensure it respects section padding */
            width: 100%; /* Extend across the available width within padding */
        }

        /* Specific section styling */
        #services ul {
            list-style: disc;
            padding-left: 25px; /* Indent list items */
             margin-top: 1rem;
        }
         #services li {
            margin-bottom: 0.8rem;
        }

        #about p {
             margin-bottom: 1rem;
        }

        /* --- Write Me Section (Form) --- */
        #writeme .section-content {
             /* Container still has dark background */
             padding: 30px 20px;
        }

        #contact-form {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 20px; /* Space between form elements */
        }

        #contact-form label { /* Visually hidden */
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        #contact-form input[type="text"],
        #contact-form textarea {
            background-color: transparent; /* TRANSPARENT background */
            border: none; /* NO border */
            border-bottom: 1px solid transparent; /* Prevent layout shift on focus */
            padding: 15px 5px; /* Adjust padding */
            color: #DFD6C7; /* Text color */
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            width: 100%;
            border-radius: 0; /* No radius */
            transition: border-color 0.3s ease; /* Transition for focus border */
            -webkit-appearance: none; /* Remove default OS styling */
            -moz-appearance: none;
            appearance: none;
        }

        /* Placeholder Styling - appears/disappears on focus/input by default */
        #contact-form input[type="text"]::placeholder,
        #contact-form textarea::placeholder {
            color: #a0988d; /* Lighter placeholder text */
            opacity: 1;
            transition: opacity 0.3s ease; /* Optional: fade out */
        }

        /* Optional: Slightly fade placeholder on focus if desired (often default) */
        /* #contact-form input[type="text"]:focus::placeholder,
        #contact-form textarea:focus::placeholder {
             opacity: 0.5;
        } */


        /* Style for FOCUS state on transparent inputs */
        #contact-form input[type="text"]:focus,
        #contact-form textarea:focus {
            outline: none; /* Remove default outline */
            border-bottom: 1px solid yellow; /* Yellow bottom border on focus */
            background-color: rgba(0,0,0, 0.1); /* Optional subtle dark hint */
        }

        #contact-form textarea {
            resize: vertical;
            min-height: 150px; /* Slightly larger for detailed input */
        }

        #contact-form button {
            background-color: #DFD6C7;
            color: #000000;
            border: none;
            padding: 15px 25px;
            cursor: pointer;
            font-weight: bold;
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            border-radius: 4px;
            transition: background-color 0.3s ease, color 0.3s ease;
            align-self: flex-start; /* Align button to the left */
            margin-top: 10px; /* Space above the button */
        }

        #contact-form button:hover {
            background-color: yellow;
            color: #000000;
        }

        #form-message {
            margin-top: 15px;
            font-style: italic;
            font-size: 0.9rem;
            min-height: 1.2em; /* Reserve space */
        }
         .success-message {
             color: #a7f0a7;
         }
         .error-message {
             color: #f0a7a7;
         }


        /* --- Footer --- */
        footer {
            background-color: #111111;
            color: #aaaaaa;
            padding: 20px 5%; /* Side margin */
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap; /* Allow wrapping on small screens */
            gap: 10px; /* Space between items if they wrap */
            font-size: 0.9rem;
            border-top: 1px solid rgba(223, 214, 199, 0.1);
        }

        .footer-left {
            text-align: left;
        }

        .footer-right {
            text-align: right;
            font-style: italic;
            max-width: 60%; /* Prevent aphorism taking too much space */
        }

        /* --- Responsiveness --- */
        @media (max-width: 768px) {
            html {
                font-size: 15px;
            }
            header {
                padding: 15px 4%;
            }
             body {
                padding-top: 60px;
             }
             header, nav {
                 height: 60px;
             }
             nav {
                 top: 60px;
             }
            section {
                padding: 60px 4%;
                min-height: 60vh;
                background-attachment: scroll; /* Fixed background often jerky on mobile */
            }
             .section-content {
                 padding: 25px;
             }
            footer {
                flex-direction: column;
                align-items: center;
                text-align: center;
                padding: 20px 4%;
            }
            .footer-left,
            .footer-right {
                text-align: center;
                max-width: 100%;
            }
            #contact-form button {
                align-self: stretch;
            }
        }

         @media (max-width: 480px) {
              html {
                font-size: 14px;
            }
             section {
                 padding: 40px 3%;
             }
              .section-content {
                 padding: 20px;
             }
             h2 {
                 font-size: 1.6rem;
             }
              footer {
                 padding: 15px 3%;
             }
             #contact-form input[type="text"],
             #contact-form textarea {
                    padding: 12px 2px;
             }
             #contact-form textarea {
                 min-height: 120px; /* Adjust height for smaller screens */
            }
         }

    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <nav id="main-nav">
             <ul>
                <li><a href="#services">Services</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#writeme">Write Me</a></li>
            </ul>
        </nav>
        <div class="menu-icon" id="menu-toggle">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Solve Section -->
        <section id="solve">
            <div class="section-content">
                <h2>SOLVE PROBLEMS</h2>
                <p>In a world of chatter, smoke, colorful presentations, shiny models and certified (in)expert that do what they want and LLMs that tell you what you have to do,</p>
                <p>I study your reality, discuss it with you and help you create applicable transversal solutions.</p>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services">
            <div class="section-content">
                <h2>SERVICES</h2>
                <ul>
                    <li>Problem solving (almost no problem is what it seems)</li>
                    <li>Decision intelligence (we are irrational animals 98% of the time)</li>
                    <li>Project management (defining objectives, understanding the team and means, building and executing a plan, managing risk and unforeseen events)</li>
                    <li>Technical development (embedded software, electronics, mechatronics, mechanics, hydraulics; functionality, architecture, safety, interactions)</li>
                    <li>Management of human dynamics (behaviors, conflicts, negotiation, motivation, real measurement of skills)</li>
                </ul>
            </div>
        </section>

        <!-- About Section -->
        <section id="about">
             <div class="section-content">
                <h2>ABOUT ME</h2>
                <p>I love intelligent people and discovering new points of view. I love close-knit teams. I love finding solutions where there shouldn't be any. I love reality, I only like theory if it works in practice. I love learning and experimenting. I love to use time well.</p>
                 <p>I work with the support of great specialist (if you want to join them, write me why).</p>
                <p>Pier Paolo Prandini</p>
            </div>
        </section>

        <!-- Write Me Section -->
        <section id="writeme">
             <div class="section-content"> <!-- Container still has dark background -->
                <h2>WRITE ME</h2>
                <form id="contact-form">
                    <label for="name">Name and company</label>
                    <input type="text" id="name" name="name" placeholder="Name and company" required>

                    <label for="contact">Phone or email</label>
                    <input type="text" id="contact" name="contact" placeholder="Phone or email" required>

                    <label for="status">What's going on, here? (be as much detailed as possible)</label>
                    <textarea id="status" name="status" placeholder="What's going on, here? (be as much detailed as possible)" required></textarea>

                    <!-- Removed Target Field -->

                    <button type="submit">Send Request</button>
                </form>
                <p id="form-message"></p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-left">
            @2025 Risolvo
        </div>
        <div class="footer-right" id="aphorism">
            <!-- Aphorism will be loaded here by JavaScript -->
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Mobile Menu Toggle ---
            const menuToggle = document.getElementById('menu-toggle');
            const mainNav = document.getElementById('main-nav');

            if (menuToggle && mainNav) {
                menuToggle.addEventListener('click', () => {
                    mainNav.classList.toggle('active');
                });

                 // Close menu when a link is clicked
                 mainNav.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                         mainNav.classList.remove('active');
                    });
                });

                // Optional: Close menu when clicking outside
                document.addEventListener('click', (event) => {
                    const isClickInsideNav = mainNav.contains(event.target);
                    const isClickInsideToggle = menuToggle.contains(event.target);

                    if (!isClickInsideNav && !isClickInsideToggle && mainNav.classList.contains('active')) {
                        mainNav.classList.remove('active');
                    }
                });
            } else {
                console.error("Menu toggle or nav element not found.");
            }


             // --- Smooth Scrolling with Offset for Fixed Header ---
             function getHeaderHeight() {
                 return document.querySelector('header')?.offsetHeight || 70;
             }

             document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                 anchor.addEventListener('click', function (e) {
                     const hrefAttribute = this.getAttribute('href');
                     if (hrefAttribute && hrefAttribute.length > 1 && hrefAttribute.startsWith('#')) {
                         const targetElement = document.querySelector(hrefAttribute);
                         if (targetElement) {
                              e.preventDefault();
                             const headerOffset = getHeaderHeight();
                             const elementPosition = targetElement.getBoundingClientRect().top;
                             const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                             window.scrollTo({
                                 top: offsetPosition,
                                 behavior: "smooth"
                             });

                             if (mainNav && mainNav.classList.contains('active')) {
                                 mainNav.classList.remove('active');
                             }
                         }
                     }
                 });
             });


            // --- Dynamic Background Images ---
            const sections = ['solve', 'services', 'about', 'writeme'];
            const dayOfMonth = new Date().getDate();
            let imageNumber;

            if (dayOfMonth <= 7) {
                imageNumber = 1;
            } else if (dayOfMonth <= 14) {
                imageNumber = 2;
            } else if (dayOfMonth <= 21) {
                imageNumber = 3;
            } else { // dayOfMonth >= 22
                imageNumber = 4;
            }

            sections.forEach(sectionId => {
                const sectionElement = document.getElementById(sectionId);
                if (sectionElement) {
                    const imageUrl = `${sectionId}${imageNumber}.jpg`;
                    sectionElement.style.backgroundImage = `url('${imageUrl}')`;
                     // Add error handling/fallback
                     const img = new Image();
                     img.src = imageUrl;
                     img.onerror = () => {
                         console.warn(`Background image not found or failed to load: ${imageUrl}. Applying fallback background.`);
                         sectionElement.style.backgroundColor = '#1a1a1a'; // Dark fallback color
                         sectionElement.style.backgroundImage = 'none';
                     }
                } else {
                    console.warn(`Section element with ID "${sectionId}" not found.`);
                }
            });

            // --- Random Aphorism in Footer ---
            const aphorisms = [
                "when someone is wearing a mask, he is going to tell the truth (Bob Dylan)", // lowercase w
                "You can ignore reality, but you cannot ignore the consequences of ignoring reality (Ayn Rand)",
                "Zig when others Zag",
                "Work quickly, prioritise and delegate (Elon Musk)",
                "Don't follow rules, follow principles",
                "it is necessary to be superficial, the world is too complex to be fully understood"
            ];
            const aphorismElement = document.getElementById('aphorism');
            if (aphorismElement) {
                const randomIndex = Math.floor(Math.random() * aphorisms.length);
                aphorismElement.textContent = aphorisms[randomIndex];
            } else {
                console.error("Aphorism element not found.")
            }

            // --- Form Submission Logic ---
            const contactForm = document.getElementById('contact-form');
            const formMessage = document.getElementById('form-message');

            if (contactForm && formMessage) {
                contactForm.addEventListener('submit', function(event) {
                    event.preventDefault();

                     formMessage.textContent = '';
                     formMessage.className = '';

                    // Get form data
                    const name = document.getElementById('name').value.trim();
                    const contact = document.getElementById('contact').value.trim();
                    const status = document.getElementById('status').value.trim();
                    // const target = // Removed target field

                    // Validate required fields (redundant with 'required' but safe)
                    if (!name || !contact || !status) {
                        formMessage.textContent = 'Error: Please fill in all required fields.';
                         formMessage.className = 'error-message';
                        return;
                    }

                    // Gather additional info (No timestamp)
                    const referrer = document.referrer || 'Not available';
                    const language = navigator.language || 'Not available';
                    const userAgent = navigator.userAgent || 'Not available';

                    // Format data with newlines (CR/LF for email body robustness)
                    // Use \r\n which translates to %0D%0A when URL encoded
                    const newline = "\r\n";
                    const formattedData = `Name/Company: ${name}${newline}` +
                                         `Contact: ${contact}${newline}` +
                                         `Status: ${status}${newline}` +
                                         `---${newline}` + // Separator
                                         `Referrer: ${referrer}${newline}` +
                                         `Language: ${language}${newline}` +
                                         `User Agent: ${userAgent}`;

                    // Encode data
                    const encodedData = encodeURIComponent(formattedData);

                    // Construct mailto link
                    const recipient = "pierpaolo.prandini@gmail.com";
                    const subject = "Request";
                    // Add newline after DATA: prefix as well
                    const bodyPrefix = "DATA:" + newline;
                    const mailtoLink = `mailto:${recipient}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(bodyPrefix)}${encodedData}`;

                    // Check length
                    const MAX_MAILTO_LENGTH = 2000; // Approximate limit
                    if (mailtoLink.length > MAX_MAILTO_LENGTH) {
                        formMessage.textContent = 'Error: The entered data is too long to send via email client. Please shorten your messages.';
                         formMessage.className = 'error-message';
                    } else {
                        // Attempt to open mail client
                        try {
                             const mailWindow = window.open(mailtoLink, '_blank');
                             if (!mailWindow) {
                                 // Fallback for popup blockers
                                 window.location.href = mailtoLink;
                             }

                            formMessage.textContent = 'An email draft with the compressed data will be opened in your email client, send it to be contacted back (if contact is correct and request has sense).';
                            formMessage.className = 'success-message';
                            // contactForm.reset(); // Optionally clear form
                        } catch (e) {
                            console.error("Error opening mailto link:", e);
                            formMessage.textContent = 'Error: Could not automatically open email client. Please check your browser/device settings or copy the data manually.';
                            formMessage.className = 'error-message';
                        }
                    }
                });
            } else {
                 console.error("Contact form or message element not found.");
            }

        }); // End DOMContentLoaded
    </script>

</body>
</html>